extends ../layout/app

block styles
    meta(name="csrf-token" content=csrfToken)

block contenido
    div.py-10
        h2.text-center.text-2xl.font-extrabold= pagina

        //pre= JSON.stringify(telefonos, undefined, 2)
        if telefonos.length 
            div(class="grid grid-cols-1 lg:grid-cols-3 gap-4 mt-14")
                each producto in telefonos
                    div(class="bg-white shadow rounded-lg")
                        img(class="h-72 w-full" src=`/uploads/${producto.imagen}` alt=`${producto.imagen}`)
                        div(class="p-5 space-y-3")
                            h3(class="text-2xl font-bold")= producto.nombre
                            p(class="text-sm text-gray-600") Procesador: 
                                span(class="text-gray-800 font-bold")= producto.procesador
                            p(class="text-sm text-gray-600") Memoria Ram: 
                                span(class="text-gray-800 font-bold")= producto.memoriaRam
                            p(class="text-sm text-gray-600") Almacenamiento: 
                                span(class="text-gray-800 font-bold")= producto.almacenamiento
                            p(class="text-sm text-gray-600") Sistema Operativo: 
                                span(class="text-gray-800 font-bold")= producto.sistemaOperativo.nombre 
                            p(class="text-sm text-gray-600") Precio: 
                              if producto.oferta
                                del(class="text-gray-800 font-bold")= `$${producto.precio} `
                                span(class="text-gray-800 font-bold")= ` / $${(producto.precio - (producto.precio / 100 )* producto.descuento)}`
                              else
                                span(class="text-gray-800 font-bold")= `$${producto.precio}`
                            p(class="text-sm text-gray-600") Tienda: 
                                span(class="text-gray-800 font-bold")= producto.tienda.nombre
                            button(type="button" data-telefono-id=`${producto.id}` class="agregar-comparacion-telefono bg-indigo-600 w-full text-center block text-white p-2 uppercase rounded") Agregar a la comparacion

            div(class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6")
                div(class="flex-1 flex justify-between sm:hidden")
                    a(href=`/telefonos?pagina=${paginaActual - 1}` class=`${paginaActual === 1 ? 'pointer-events-none ' : ''}relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50`) Anterior
                    a(href=`/telefonos?pagina=${paginaActual + 1}` class=`${paginaActual === paginas ? 'pointer-events-none ' : ''} relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50`) Siguiente
                div(class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between")
                    p(class="text-sm text-gray-700 gap-2") Mostrando 
                        span(class="font-medium") #{offset + 1} a 
                        span(class="font-medium") #{total < limite + offset ? total : limite + offset } de 
                        span(class="font-medium") #{total} resultados
                div(class="hidden sm:block")
                    nav(class="relative z-0 inline-flex rounded-md shadow-md")
                        - var n = 1
                            while n <= paginas
                                a(href=`/telefonos?pagina=${n}` class=`${paginaActual == n ?  'bg-indigo-50 border-indigo-500 text-indigo-600' : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'} relative inline-flex items-center px-4 py-2 border text-sm font-medium`) #{n++}
        else 
            p.text-center No hay Telefonos
        a(href="/compararTelefonos" class="!fixed hidden bottom-5 right-5  rounded-full bg-red-600 p-3 text-xs font-medium uppercase leading-tight text-white shadow-md transition duration-150 ease-in-out hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg" id="btn-back-to-top"  ) Ir a comparar

block scripts
    script(src="/js/agregarComparacion.js") 